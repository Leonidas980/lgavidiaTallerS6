<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="lgavidias6.Views.VistaEstudiante"
             Title="Vista de Estudiantes">

    <VerticalStackLayout Padding="25" Spacing="25">

        <Label Text="Gestión de Estudiantes"
               FontSize="26"
               HorizontalTextAlignment="Center"
               HorizontalOptions="Center"
               FontAttributes="Bold"
               TextColor="#0D47A1"/>

        <!-- ESTE ES EL ÚNICO BOTÓN -->
        <Button Text="➕ Agregar Estudiante"
                BackgroundColor="#1565C0"
                TextColor="White"
                CornerRadius="15"
                Padding="10"
                FontAttributes="Bold"
                Clicked="btnAgregar_Clicked"/>
        
        <!-- ENCABEZADO -->
        <Grid ColumnDefinitions="*,*,*,*" 
              BackgroundColor="#004D40" 
              Padding="12"
              Margin="0,10,0,0"
              HorizontalOptions="Fill">

            <Label Grid.Column="0" Text="Código" TextColor="White" HorizontalTextAlignment="Center"/>
            <Label Grid.Column="1" Text="Nombre" TextColor="White" HorizontalTextAlignment="Center"/>
            <Label Grid.Column="2" Text="Apellido" TextColor="White" HorizontalTextAlignment="Center"/>
            <Label Grid.Column="3" Text="Edad" TextColor="White" HorizontalTextAlignment="Center"/>
        </Grid>

        <!-- LISTADO -->
        <ListView x:Name="lvEstudiantes"
                  HasUnevenRows="True"
                  SeparatorVisibility="Default"
                  ItemSelected="lvEstudiantes_ItemSelected">

            <ListView.ItemTemplate>
                <DataTemplate>
                    <ViewCell>
                        <Grid ColumnDefinitions="*,*,*,*"
                              Padding="10"
                              BackgroundColor="#E3F2FD"
                              Margin="0,2,0,2">

                            <Label Text="{Binding codigo}" 
                                   Grid.Column="0"
                                   HorizontalTextAlignment="Center"
                                   TextColor="#0D47A1"/>

                            <Label Text="{Binding nombre}" 
                                   Grid.Column="1"
                                   TextColor="#1A237E"
                                   FontAttributes="Bold"/>

                            <Label Text="{Binding apellido}"
                                   Grid.Column="2"
                                   TextColor="#004D40"/>

                            <Label Text="{Binding edad}"
                                   Grid.Column="3"
                                   HorizontalTextAlignment="Center"
                                   TextColor="#880E4F"/>
                        </Grid>
                    </ViewCell>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

    </VerticalStackLayout>
</ContentPage>
